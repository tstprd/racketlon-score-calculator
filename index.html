<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="description" content="Calculateur de scores Racketlon - Analysez vos matchs en temps rÃ©el">
  <title>Racketlon Calc</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ“ğŸ¸ğŸ¾ Racketlon Calc</h1>
      <p class="subtitle">Analyseur de match en temps rÃ©el</p>
    </header>

    <main>
      <!-- Tab navigation -->
      <nav class="tabs">
        <button class="tab active" data-tab="manual">âœï¸ Saisie manuelle</button>
        <button class="tab" data-tab="photo">ğŸ“· Photo OCR</button>
      </nav>

      <!-- Manual entry tab -->
      <section id="manual-tab" class="tab-content active">
        <div class="players-row">
          <div class="player-input">
            <label for="playerA">Joueur A</label>
            <input type="text" id="playerA" placeholder="Nom" value="">
          </div>
          <div class="vs">VS</div>
          <div class="player-input">
            <label for="playerB">Joueur B</label>
            <input type="text" id="playerB" placeholder="Nom" value="">
          </div>
        </div>

        <div class="scores-grid">
          <div class="score-row header">
            <span class="sport-label"></span>
            <span class="score-header" id="headerA">A</span>
            <span class="score-sep"></span>
            <span class="score-header" id="headerB">B</span>
          </div>
          
          <div class="score-row" data-sport="tabletennis">
            <span class="sport-label">ğŸ“ Ping-pong</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreA" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreA">21</button>
            </div>
            <span class="score-sep">-</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreB" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreB">21</button>
            </div>
          </div>
          
          <div class="score-row" data-sport="badminton">
            <span class="sport-label">ğŸ¸ Badminton</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreA" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreA">21</button>
            </div>
            <span class="score-sep">-</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreB" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreB">21</button>
            </div>
          </div>
          
          <div class="score-row" data-sport="squash">
            <span class="sport-label">ğŸ¯ Squash</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreA" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreA">21</button>
            </div>
            <span class="score-sep">-</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreB" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreB">21</button>
            </div>
          </div>
          
          <div class="score-row" data-sport="tennis">
            <span class="sport-label">ğŸ¾ Tennis</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreA" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreA">21</button>
            </div>
            <span class="score-sep">-</span>
            <div class="score-cell">
              <input type="number" class="score-input scoreB" min="0" max="21" placeholder="0">
              <button type="button" class="btn-21" data-target="scoreB">21</button>
            </div>
          </div>
          
          <div class="score-row total">
            <span class="sport-label">ğŸ“Š TOTAL</span>
            <span class="total-score" id="totalA">0</span>
            <span class="score-sep">-</span>
            <span class="total-score" id="totalB">0</span>
          </div>
        </div>

        <div class="delta-display">
          <span id="deltaText">Ã‰galitÃ©</span>
        </div>
        
        <button type="button" id="clearAll" class="btn-clear">ğŸ—‘ï¸ Effacer tout</button>
      </section>

      <!-- Photo OCR tab -->
      <section id="photo-tab" class="tab-content">
        <div class="photo-section">
          <label class="photo-button" for="photoInput">
            ğŸ“· Prendre une photo ou choisir une image
          </label>
          <input type="file" id="photoInput" accept="image/*" capture="environment">
          
          <div id="photoPreview" class="photo-preview hidden">
            <img id="previewImage" src="" alt="AperÃ§u">
            <button id="processPhoto" class="btn-primary">ğŸ” Analyser avec OCR</button>
          </div>
          
          <div id="ocrStatus" class="ocr-status hidden">
            <div class="spinner"></div>
            <span>Chargement de Tesseract.js...</span>
          </div>
          
          <div id="ocrResult" class="ocr-result hidden">
            <h3>Texte dÃ©tectÃ© :</h3>
            <pre id="ocrText"></pre>
            <button id="applyOcr" class="btn-secondary">Appliquer les scores</button>
          </div>
        </div>
      </section>

      <!-- Analysis results -->
      <section id="analysis" class="analysis-section">
        <h2>ğŸ“ˆ Analyse</h2>
        <div id="analysisContent">
          <p class="placeholder">Entrez les scores pour voir l'analyse</p>
        </div>
      </section>
    </main>

    <footer>
      <p>Racketlon Calc v1.0 â€¢ <a href="https://www.racketlon.net" target="_blank">RÃ¨gles officielles</a></p>
    </footer>
  </div>

  <script src="scoring.js"></script>
  <script src="ocr.js"></script>
  <script src="app.js"></script>
</body>
</html>
